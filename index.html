<!DOCTYPE html>
<html>
  <head>
    <title>Drumul Spre Vidra</title>
    <link rel="icon" href="assets/favicon.ico" />
    <meta charset="UTF-16" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Vezi rapid orarul de la stațiile de plecare. Tur și return spre Vidra"
    />
    <meta
      name="keywords"
      content="ilfov, vidra, progam autobuz din stațiile de plecare"
    />
    <meta property="og:title" content="Drumul Spre Vidra" />
    <meta
      property="og:description"
      content="Vezi rapid orarul de la stațiile de plecare. Tur și return spre Vidra"
    />
    <meta
      property="og:url"
      content="https://road-to-otter-village.vercel.app"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://road-to-otter-village.vercel.app/assets/logo.png"
    />
    <meta property="og:locale" content="ro_RO" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Drumul Spre Vidra" />
    <meta
      name="twitter:description"
      content="Vezi rapid orarul de la stațiile de plecare. Tur și return spre Vidra"
    />
    <meta
      name="twitter:image"
      content="https://road-to-otter-village.vercel.app/assets/logo.png"
    />
    <meta name="twitter:site" content="@drumul_spre_vidra" />
    <meta name="twitter:creator" content="@drumul_spre_vidra" />
    <link rel="canonical" href="https://road-to-otter-village.vercel.app" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Robert de la Vidra" />
    <link rel="manifest" href="/manifest.json" />

    <style>
      :root {
        --bg-color: #f0f0f0;
        --text-color: #333;
        --border-color: #999;
        --header-bg: #e0e0e0;
        --row-even: #f8f8f8;
        --row-hover: #ffffcc;
        --link-color: #0066cc;
        --remaining-time-color: #666;
        --next-day-color: #cc0000;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 20px;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 12px;
        line-height: 1.4;
      }

      body.dark-mode {
        --bg-color: #1a1a1a;
        --text-color: #e0e0e0;
        --border-color: #666;
        --header-bg: #333;
        --row-even: #2a2a2a;
        --row-hover: #404040;
        --link-color: #66ccff;
        --remaining-time-color: #aaa;
        --next-day-color: #ff6666;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background-color: white;
        border: 1px solid var(--border-color);
        padding: 20px;
      }

      body.dark-mode .container {
        background-color: #222;
      }

      h1 {
        text-align: center;
        font-size: 24px;
        margin: 0 0 25px 0;
        font-weight: bold;
      }

      .controls {
        margin-bottom: 25px;
        padding: 15px;
        background-color: var(--header-bg);
        border: 1px solid var(--border-color);
      }

      .controls-flex {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }

      .control-group {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: bold;
      }

      .control-label {
        white-space: nowrap;
      }

      .controls label {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 13px;
        white-space: nowrap;
      }

      .controls input[type="checkbox"] {
        width: 16px;
        height: 16px;
        margin: 0;
      }

      .compact-header {
        margin-bottom: 25px;
        padding: 8px 12px;
        background-color: var(--header-bg);
        border: 1px solid var(--border-color);
      }

      .compact-flex {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .compact-info {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: bold;
      }

      .separator {
        color: var(--remaining-time-color);
      }

      .compact-controls {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .compact-controls .dark-toggle,
      .compact-controls .settings-toggle,
      .compact-controls .program-toggle {
        padding: 4px 8px;
        font-size: 11px;
        margin-left: 0;
      }

      .settings-toggle {
        background: linear-gradient(135deg, #28a745, #218838);
        border: 1px solid #1e7e34;
        color: white;
        cursor: pointer;
        padding: 6px 10px;
        font-size: 12px;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        transition: all 0.2s ease;
        font-weight: bold;
      }

      .settings-toggle:hover {
        background: linear-gradient(135deg, #218838, #1e7e34);
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      }

      .settings-toggle:active {
        transform: translateY(0);
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      }

      body.dark-mode .settings-toggle {
        background: linear-gradient(135deg, #20c997, #17a2b8);
        border-color: #138496;
      }

      body.dark-mode .settings-toggle:hover {
        background: linear-gradient(135deg, #17a2b8, #138496);
      }

      .program-toggle {
        background: linear-gradient(135deg, #6f42c1, #5a2a9c);
        border: 1px solid #4a237a;
        color: white;
        cursor: pointer;
        padding: 6px 10px;
        font-size: 12px;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        transition: all 0.2s ease;
        font-weight: bold;
      }

      .program-toggle:hover {
        background: linear-gradient(135deg, #5a2a9c, #4a237a);
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      }

      .program-toggle:active {
        transform: translateY(0);
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      }

      .program-toggle.active {
        background: linear-gradient(135deg, #28a745, #218838);
        border-color: #1e7e34;
      }

      .program-toggle.active:hover {
        background: linear-gradient(135deg, #218838, #1e7e34);
      }

      body.dark-mode .program-toggle {
        background: linear-gradient(135deg, #e83e8c, #d91a72);
        border-color: #c70f5f;
      }

      body.dark-mode .program-toggle:hover {
        background: linear-gradient(135deg, #d91a72, #c70f5f);
      }

      body.dark-mode .program-toggle.active {
        background: linear-gradient(135deg, #20c997, #17a2b8);
        border-color: #138496;
      }

      body.dark-mode .program-toggle.active:hover {
        background: linear-gradient(135deg, #17a2b8, #138496);
      }

      select, input {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14px;
        background-color: white;
        border: 1px solid var(--border-color);
        padding: 6px 8px;
        border-radius: 2px;
      }

      body.dark-mode select, 
      body.dark-mode input {
        background-color: #333;
        color: var(--text-color);
      }

      .schedule-table {
        width: 100%;
        border-collapse: collapse;
        border: 2px solid var(--border-color);
        margin-bottom: 25px;
        font-size: 16px;
      }

      .schedule-table th {
        background-color: var(--header-bg);
        border: 1px solid var(--border-color);
        padding: 12px 8px;
        text-align: center;
        font-weight: bold;
        font-size: 16px;
      }

      .schedule-table td {
        border: 1px solid var(--border-color);
        padding: 10px 12px;
        text-align: center;
        font-family: "Courier New", monospace;
        font-size: 18px;
        font-weight: bold;
      }

      .schedule-table tr:nth-child(even) {
        background-color: var(--row-even);
      }

      .schedule-table tr:hover {
        background-color: var(--row-hover);
      }

      .time-cell {
        font-weight: bold;
        font-size: 20px;
        color: #000066;
      }

      body.dark-mode .time-cell {
        color: #6699ff;
      }

      .remaining-time {
        color: var(--remaining-time-color);
        font-size: 14px;
        font-weight: normal;
      }

      .next-day {
        color: var(--next-day-color);
        font-weight: bold;
      }

      .notice {
        background-color: #ffffcc;
        border: 2px solid #ffcc00;
        padding: 15px;
        margin-bottom: 25px;
        text-align: center;
        font-size: 16px;
        font-weight: bold;
      }

      body.dark-mode .notice {
        background-color: #333300;
        border-color: #666600;
      }

      .footer {
        text-align: center;
        font-size: 12px;
        color: var(--remaining-time-color);
        margin-top: 25px;
        padding-top: 15px;
        border-top: 1px solid var(--border-color);
      }

      .footer a {
        color: var(--link-color);
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      .dark-toggle {
        background: linear-gradient(135deg, #4a90e2, #357abd);
        border: 1px solid #2c5aa0;
        color: white;
        cursor: pointer;
        padding: 6px 10px;
        font-size: 12px;
        border-radius: 4px;
        margin-left: auto;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        transition: all 0.2s ease;
        font-weight: bold;
      }

      .dark-toggle:hover {
        background: linear-gradient(135deg, #357abd, #2c5aa0);
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      }

      .dark-toggle:active {
        transform: translateY(0);
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      }

      body.dark-mode .dark-toggle {
        background: linear-gradient(135deg, #ffa500, #ff8c00);
        border-color: #e67a00;
      }

      body.dark-mode .dark-toggle:hover {
        background: linear-gradient(135deg, #ff8c00, #e6700a);
      }

      .dark-toggle:focus,
      .settings-toggle:focus {
        outline: 2px solid #007bff;
        outline-offset: 2px;
      }

      body.dark-mode .dark-toggle:focus {
        outline-color: #ffd700;
      }

      body.dark-mode .settings-toggle:focus {
        outline-color: #40e0d0;
      }

      .no-schedule {
        text-align: center;
        padding: 50px;
        font-style: italic;
        font-size: 18px;
        color: var(--remaining-time-color);
      }

      /* Responsive design for mobile devices */
      @media (max-width: 600px) {
        body {
          padding: 10px;
        }
        
        .container {
          padding: 15px;
        }
        
        h1 {
          font-size: 20px;
        }
        
        .controls-flex {
          gap: 15px;
        }
        
        .control-group {
          gap: 6px;
          font-size: 12px;
        }
        
        .schedule-table th {
          padding: 8px 4px;
          font-size: 14px;
        }
        
        .schedule-table td {
          padding: 8px 6px;
          font-size: 16px;
        }
        
        .time-cell {
          font-size: 18px;
        }
        
        .remaining-time {
          font-size: 12px;
        }
        
        select {
          font-size: 12px;
          padding: 4px 6px;
        }
      }

      @media (max-width: 400px) {
        .controls-flex {
          flex-direction: column;
          align-items: stretch;
          gap: 10px;
        }
        
        .control-group {
          justify-content: space-between;
        }
        
        .dark-toggle {
          margin-left: 0;
          align-self: center;
          padding: 8px 12px;
          font-size: 14px;
        }

        .settings-toggle {
          padding: 8px 12px;
          font-size: 14px;
        }

        .compact-flex {
          flex-direction: column;
          gap: 6px;
          align-items: center;
        }

        .compact-info {
          font-size: 12px;
          text-align: center;
        }

        .compact-controls {
          gap: 4px;
        }

        .compact-controls .dark-toggle,
        .compact-controls .settings-toggle,
        .compact-controls .program-toggle {
          padding: 6px 10px;
          font-size: 12px;
        }
        
        .schedule-table th,
        .schedule-table td {
          padding: 6px 3px;
        }
        
        .time-cell {
          font-size: 16px;
        }
        
        .remaining-time {
          font-size: 11px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="controls" id="controls-section">
        <div class="controls-flex">
          <div class="control-group">
            <span class="control-label">Linia:</span>
            <div id="line"></div>
          </div>
          <div class="control-group">
            <span class="control-label">Program:</span>
            <div id="settings"></div>
          </div>
          <div class="control-group">
            <div id="full-schedule"></div>
          </div>
          <div class="control-group">
            <button class="dark-toggle" onclick="toggleDarkMode()">🌓</button>
          </div>
          <div class="control-group">
            <button class="settings-toggle" onclick="toggleControls()">✓</button>
          </div>
        </div>
      </div>

      <div class="compact-header" id="compact-header" style="display: none;">
        <div class="compact-flex">
          <div class="compact-info">
            <span id="compact-line">Linia 420</span>
            <span class="separator">•</span>
            <span id="compact-program">Zi de lucru</span>
            <span id="compact-full-schedule" style="display: none;">• Program complet</span>
          </div>
          <div class="compact-controls">
            <button class="program-toggle" onclick="toggleProgramComplet()" id="compact-program-button">Program Complet</button>
            <button class="settings-toggle" onclick="toggleControls()">Setari</button>
          </div>
        </div>
      </div>

      <div id="notice"></div>
      <div id="app"></div>
      
      <div class="footer">
        Program verificat în data de 25.04.2025 | 
        <a href="https://www.stvsa.ro/">STVSA Official</a>
      </div>
    </div>

    <script>
      let controlsVisible = false;

      function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
      }

      function toggleProgramComplet() {
        const mainCheckbox = document.querySelector('#full-schedule input[type="checkbox"]');
        const compactButton = document.getElementById('compact-program-button');
        
        if (mainCheckbox) {
          mainCheckbox.checked = !mainCheckbox.checked;
          mainCheckbox.dispatchEvent(new Event('change', { bubbles: true }));
        }
        
        updateProgramButton();
      }

      function updateProgramButton() {
        const mainCheckbox = document.querySelector('#full-schedule input[type="checkbox"]');
        const compactButton = document.getElementById('compact-program-button');
        
        if (mainCheckbox && compactButton) {
          if (mainCheckbox.checked) {
            compactButton.classList.add('active');
            compactButton.textContent = 'Program Complet';
          } else {
            compactButton.classList.remove('active');
            compactButton.textContent = 'Program Partial';
          }
        }
      }

      function toggleControls() {
        controlsVisible = !controlsVisible;
        const controlsSection = document.getElementById('controls-section');
        const compactHeader = document.getElementById('compact-header');
        
        if (controlsVisible) {
          controlsSection.style.display = 'block';
          compactHeader.style.display = 'none';
        } else {
          controlsSection.style.display = 'none';
          compactHeader.style.display = 'block';
          updateCompactHeader();
        }
        
        localStorage.setItem('controlsVisible', controlsVisible);
      }

      function updateCompactHeader() {
        // Update line display
        const lineSelect = document.querySelector('#line select');
        const compactLine = document.getElementById('compact-line');
        if (lineSelect) {
          compactLine.textContent = lineSelect.options[lineSelect.selectedIndex].text;
        }

        // Update program display
        const programSelect = document.querySelector('#settings select');
        const compactProgram = document.getElementById('compact-program');
        if (programSelect) {
          compactProgram.textContent = programSelect.options[programSelect.selectedIndex].text;
        }

        // Update full schedule display in info section
        const fullScheduleCheckbox = document.querySelector('#full-schedule input[type="checkbox"]');
        const compactFullSchedule = document.getElementById('compact-full-schedule');
        if (fullScheduleCheckbox && fullScheduleCheckbox.checked) {
          compactFullSchedule.style.display = 'inline';
        } else {
          compactFullSchedule.style.display = 'none';
        }

        // Update program button
        updateProgramButton();
      }

      // Load saved state
      if (localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark-mode');
      }

      // Load controls visibility state
      const savedControlsVisible = localStorage.getItem('controlsVisible');
      if (savedControlsVisible === 'false') {
        // Start in compact mode
        setTimeout(() => {
          toggleControls();
        }, 100);
      } else {
        controlsVisible = true;
      }

      // Listen for changes to update compact header
      document.addEventListener('change', function(e) {
        if (!controlsVisible) {
          updateCompactHeader();
        }
      });
    </script>
    <script src="./main.mjs?v=7682fd2f2539a3f465baaa585011a1f5" type="module" async></script>
  </body>
  <footer></footer>
</html>
